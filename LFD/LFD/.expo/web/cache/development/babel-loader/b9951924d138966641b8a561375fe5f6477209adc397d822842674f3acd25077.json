{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useCommonVariables = useCommonVariables;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactNativeReanimated = require(\"react-native-reanimated\");\nvar _computeNewIndexWhenDataChanges = require(\"./computeNewIndexWhenDataChanges\");\nvar _handlerOffsetDirection = require(\"../utils/handlerOffsetDirection\");\nvar _worklet_10652703225927_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    prevDataLength,\\n    dataLength,\\n    loop\\n  } = this._closure;\\n  const previousLength = prevDataLength.value;\\n  const currentLength = dataLength;\\n  const isLengthChanged = previousLength !== currentLength;\\n  const shouldComputed = isLengthChanged && loop;\\n  if (shouldComputed) prevDataLength.value = dataLength;\\n  return {\\n    shouldComputed: shouldComputed,\\n    previousLength: previousLength,\\n    currentLength: currentLength\\n  };\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCommonVariables.ts\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"prevDataLength\\\",\\\"dataLength\\\",\\\"loop\\\",\\\"_closure\\\",\\\"previousLength\\\",\\\"value\\\",\\\"currentLength\\\",\\\"isLengthChanged\\\",\\\"shouldComputed\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCommonVariables.ts\\\"],\\\"mappings\\\":\\\"AAsCsB,SAAAA,SAAMA,CAAA;EAAA;IAAAC,cAAA;IAAAC,UAAA;IAAAC;EAAA,SAAAC,QAAA;EACxB,MAAMC,cAAc,GAAGJ,cAAc,CAACK,KAAK;EAC3C,MAAMC,aAAa,GAAGL,UAAU;EAChC,MAAMM,eAAe,GAAGH,cAAc,KAAKE,aAAa;EACxD,MAAME,cAAc,GAAGD,eAAe,IAAIL,IAAI;EAE9C,IAAIM,cAAc,EAChBR,cAAc,CAACK,KAAK,GAAGJ,UAAU;EAEnC,OAAO;IACLO,cAAc,EAAdA,cAAc;IACdJ,cAAc,EAAdA,cAAc;IACdE,aAAA,EAAAA;EACF,CAAC;AACH\\\"}\"\n};\nvar _worklet_17314307749108_init_data = {\n  code: \"function anonymous({\\n  shouldComputed: shouldComputed,\\n  previousLength: previousLength,\\n  currentLength: currentLength\\n}) {\\n  const {\\n    handlerOffsetDirection,\\n    handlerOffset,\\n    computeNewIndexWhenDataChanges,\\n    size\\n  } = this._closure;\\n  if (shouldComputed) {\\n    const direction = handlerOffsetDirection(handlerOffset);\\n    handlerOffset.value = computeNewIndexWhenDataChanges({\\n      direction: direction,\\n      previousLength: previousLength,\\n      currentLength: currentLength,\\n      size: size,\\n      handlerOffset: handlerOffset.value\\n    });\\n  }\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCommonVariables.ts\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"shouldComputed\\\",\\\"previousLength\\\",\\\"currentLength\\\",\\\"handlerOffsetDirection\\\",\\\"handlerOffset\\\",\\\"computeNewIndexWhenDataChanges\\\",\\\"size\\\",\\\"_closure\\\",\\\"direction\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCommonVariables.ts\\\"],\\\"mappings\\\":\\\"AAoDK,SAACA,UAAA;EAAEC,cAAc,EAAdA,cAAc;EAAEC,cAAc,EAAdA,cAAc;EAAEC,aAAA,EAAAA;AAAc,CAAC,EAAK;EAAA;IAAAC,sBAAA;IAAAC,aAAA;IAAAC,8BAAA;IAAAC;EAAA,SAAAC,QAAA;EACxD,IAAIP,cAAc,EAAE;IAElB,MAAMQ,SAAS,GAAGL,sBAAsB,CAACC,aAAa,CAAC;IAEvDA,aAAa,CAACK,KAAK,GAAGJ,8BAA8B,CAAC;MACnDG,SAAS,EAATA,SAAS;MACTP,cAAc,EAAdA,cAAc;MACdC,aAAa,EAAbA,aAAa;MACbI,IAAI,EAAJA,IAAI;MACJF,aAAa,EAAEA,aAAa,CAACK;IAC/B,CAAC,CAAC;EACJ;AACF\\\"}\"\n};\nfunction useCommonVariables(props) {\n  var vertical = props.vertical,\n    height = props.height,\n    width = props.width,\n    dataLength = props.dataLength,\n    defaultIndex = props.defaultIndex,\n    defaultScrollOffsetValue = props.defaultScrollOffsetValue,\n    loop = props.loop;\n  var size = vertical ? height : width;\n  var validLength = dataLength - 1;\n  var defaultHandlerOffsetValue = -Math.abs(defaultIndex * size);\n  var _handlerOffset = (0, _reactNativeReanimated.useSharedValue)(defaultHandlerOffsetValue);\n  var handlerOffset = defaultScrollOffsetValue != null ? defaultScrollOffsetValue : _handlerOffset;\n  var prevDataLength = (0, _reactNativeReanimated.useSharedValue)(dataLength);\n  _react.default.useEffect(function () {\n    handlerOffset.value = defaultHandlerOffsetValue;\n  }, [vertical, handlerOffset, defaultHandlerOffsetValue]);\n  (0, _reactNativeReanimated.useAnimatedReaction)(function () {\n    var _e = [new global.Error(), -4, -27];\n    var _f = function _f() {\n      var previousLength = prevDataLength.value;\n      var currentLength = dataLength;\n      var isLengthChanged = previousLength !== currentLength;\n      var shouldComputed = isLengthChanged && loop;\n      if (shouldComputed) prevDataLength.value = dataLength;\n      return {\n        shouldComputed: shouldComputed,\n        previousLength: previousLength,\n        currentLength: currentLength\n      };\n    };\n    _f._closure = {\n      prevDataLength: prevDataLength,\n      dataLength: dataLength,\n      loop: loop\n    };\n    _f.__initData = _worklet_10652703225927_init_data;\n    _f.__workletHash = 10652703225927;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), function () {\n    var _e = [new global.Error(), -5, -27];\n    var _f = function _f(_ref) {\n      var shouldComputed = _ref.shouldComputed,\n        previousLength = _ref.previousLength,\n        currentLength = _ref.currentLength;\n      if (shouldComputed) {\n        var direction = (0, _handlerOffsetDirection.handlerOffsetDirection)(handlerOffset);\n        handlerOffset.value = (0, _computeNewIndexWhenDataChanges.computeNewIndexWhenDataChanges)({\n          direction: direction,\n          previousLength: previousLength,\n          currentLength: currentLength,\n          size: size,\n          handlerOffset: handlerOffset.value\n        });\n      }\n    };\n    _f._closure = {\n      handlerOffsetDirection: _handlerOffsetDirection.handlerOffsetDirection,\n      handlerOffset: handlerOffset,\n      computeNewIndexWhenDataChanges: _computeNewIndexWhenDataChanges.computeNewIndexWhenDataChanges,\n      size: size\n    };\n    _f.__initData = _worklet_17314307749108_init_data;\n    _f.__workletHash = 17314307749108;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), [dataLength, loop]);\n  return {\n    size: size,\n    validLength: validLength,\n    handlerOffset: handlerOffset\n  };\n}","map":{"version":3,"names":["_react","_interopRequireDefault","require","_reactNativeReanimated","_computeNewIndexWhenDataChanges","_handlerOffsetDirection","useCommonVariables","props","vertical","height","width","dataLength","defaultIndex","defaultScrollOffsetValue","loop","size","validLength","defaultHandlerOffsetValue","Math","abs","_handlerOffset","useSharedValue","handlerOffset","prevDataLength","default","useEffect","value","useAnimatedReaction","_e","global","Error","_f","previousLength","currentLength","isLengthChanged","shouldComputed","_closure","__initData","_worklet_10652703225927_init_data","__workletHash","__stackDetails","__version","_ref","direction","handlerOffsetDirection","computeNewIndexWhenDataChanges","_worklet_17314307749108_init_data"],"sources":["C:\\Users\\j.achak\\Desktop\\projet perso\\LFD\\LFD\\node_modules\\react-native-reanimated-carousel\\lib\\commonjs\\hooks\\useCommonVariables.ts"],"sourcesContent":["import React from \"react\";\nimport type Animated from \"react-native-reanimated\";\nimport { useSharedValue, useAnimatedReaction } from \"react-native-reanimated\";\n\nimport { computeNewIndexWhenDataChanges } from \"./computeNewIndexWhenDataChanges\";\nimport type { TInitializeCarouselProps } from \"./useInitProps\";\n\nimport { handlerOffsetDirection } from \"../utils/handlerOffsetDirection\";\n\ninterface ICommonVariables {\n  size: number\n  validLength: number\n  handlerOffset: Animated.SharedValue<number>\n}\n\nexport function useCommonVariables(\n  props: TInitializeCarouselProps<any>,\n): ICommonVariables {\n  const {\n    vertical,\n    height,\n    width,\n    dataLength,\n    defaultIndex,\n    defaultScrollOffsetValue,\n    loop,\n  } = props;\n  const size = vertical ? height : width;\n  const validLength = dataLength - 1;\n  const defaultHandlerOffsetValue = -Math.abs(defaultIndex * size);\n  const _handlerOffset = useSharedValue<number>(defaultHandlerOffsetValue);\n  const handlerOffset = defaultScrollOffsetValue ?? _handlerOffset;\n  const prevDataLength = useSharedValue(dataLength);\n\n  React.useEffect(() => {\n    handlerOffset.value = defaultHandlerOffsetValue;\n  }, [vertical, handlerOffset, defaultHandlerOffsetValue]);\n\n  useAnimatedReaction(() => {\n    const previousLength = prevDataLength.value;\n    const currentLength = dataLength;\n    const isLengthChanged = previousLength !== currentLength;\n    const shouldComputed = isLengthChanged && loop;\n\n    if (shouldComputed)\n      prevDataLength.value = dataLength;\n\n    return {\n      shouldComputed,\n      previousLength,\n      currentLength,\n    };\n  }, ({ shouldComputed, previousLength, currentLength }) => {\n    if (shouldComputed) {\n      // direction -> 1 | -1\n      const direction = handlerOffsetDirection(handlerOffset);\n\n      handlerOffset.value = computeNewIndexWhenDataChanges({\n        direction,\n        previousLength,\n        currentLength,\n        size,\n        handlerOffset: handlerOffset.value,\n      });\n    }\n  }, [dataLength, loop]);\n\n  return {\n    size,\n    validLength,\n    handlerOffset,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}