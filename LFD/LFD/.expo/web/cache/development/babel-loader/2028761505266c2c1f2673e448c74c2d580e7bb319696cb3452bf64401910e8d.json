{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useCarouselController = useCarouselController;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNativeReanimated = require(\"react-native-reanimated\");\nvar _constants = require(\"../constants\");\nvar _computedWithAutoFillData = require(\"../utils/computedWithAutoFillData\");\nvar _dealWithAnimation = require(\"../utils/dealWithAnimation\");\nvar _handlerOffsetDirection = require(\"../utils/handlerOffsetDirection\");\nvar _log = require(\"../utils/log\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nvar _worklet_11883385583138_init_data = {\n  code: \"function anonymous() {\\n  const {\\n    handlerOffset,\\n    round,\\n    size,\\n    dataInfo,\\n    convertToSharedIndex,\\n    loop,\\n    autoFillData\\n  } = this._closure;\\n  const handlerOffsetValue = handlerOffset.value;\\n  const toInt = round(handlerOffsetValue / size) % dataInfo.length;\\n  const isPositive = handlerOffsetValue <= 0;\\n  const i = isPositive ? Math.abs(toInt) : Math.abs(toInt > 0 ? dataInfo.length - toInt : 0);\\n  const newSharedIndexValue = convertToSharedIndex({\\n    loop: loop,\\n    rawDataLength: dataInfo.originalLength,\\n    autoFillData: autoFillData,\\n    index: i\\n  });\\n  return {\\n    i: i,\\n    newSharedIndexValue: newSharedIndexValue\\n  };\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"handlerOffset\\\",\\\"round\\\",\\\"size\\\",\\\"dataInfo\\\",\\\"convertToSharedIndex\\\",\\\"loop\\\",\\\"autoFillData\\\",\\\"_closure\\\",\\\"handlerOffsetValue\\\",\\\"value\\\",\\\"toInt\\\",\\\"length\\\",\\\"isPositive\\\",\\\"i\\\",\\\"Math\\\",\\\"abs\\\",\\\"newSharedIndexValue\\\",\\\"rawDataLength\\\",\\\"originalLength\\\",\\\"index\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\\\"],\\\"mappings\\\":\\\"AAmFI,SAAAA,SAAMA,CAAA;EAAA;IAAAC,aAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,QAAA;IAAAC,oBAAA;IAAAC,IAAA;IAAAC;EAAA,SAAAC,QAAA;EACJ,MAAMC,kBAAkB,GAAGR,aAAa,CAACS,KAAK;EAC9C,MAAMC,KAAK,GAAGT,KAAK,CAACO,kBAAkB,GAAGN,IAAI,CAAC,GAAGC,QAAQ,CAACQ,MAAM;EAChE,MAAMC,UAAU,GAAGJ,kBAAkB,IAAI,CAAC;EAC1C,MAAMK,CAAC,GAAGD,UAAU,GAChBE,IAAI,CAACC,GAAG,CAACL,KAAK,CAAC,GACfI,IAAI,CAACC,GAAG,CAACL,KAAK,GAAG,CAAC,GAAGP,QAAQ,CAACQ,MAAM,GAAGD,KAAK,GAAG,CAAC,CAAC;EAErD,MAAMM,mBAAmB,GAAGZ,oBAAoB,CAAC;IAC/CC,IAAI,EAAJA,IAAI;IACJY,aAAa,EAAEd,QAAQ,CAACe,cAAc;IACtCZ,YAAY,EAAEA,YAAa;IAC3Ba,KAAK,EAAEN;EACT,CAAC,CAAC;EAEF,OAAO;IACLA,CAAC,EAADA,CAAC;IACDG,mBAAA,EAAAA;EACF,CAAC;AACH\\\"}\"\n};\nvar _worklet_6063199752963_init_data = {\n  code: \"function anonymous({\\n  i: i,\\n  newSharedIndexValue: newSharedIndexValue\\n}) {\\n  const {\\n    index,\\n    runOnJS,\\n    setSharedIndex\\n  } = this._closure;\\n  index.value = i;\\n  runOnJS(setSharedIndex)(newSharedIndexValue);\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"i\\\",\\\"newSharedIndexValue\\\",\\\"index\\\",\\\"runOnJS\\\",\\\"setSharedIndex\\\",\\\"_closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\\\"],\\\"mappings\\\":\\\"AAuGI,SAACA,UAAA;EAAEC,CAAC,EAADA,CAAC;EAAEC,mBAAA,EAAAA;AAAoB,CAAC,EAAK;EAAA;IAAAC,KAAA;IAAAC,OAAA;IAAAC;EAAA,SAAAC,QAAA;EAC9BH,KAAK,CAACI,KAAK,GAAGN,CAAC;EACfG,OAAO,CAACC,cAAc,CAAC,CAACH,mBAAmB,CAAC;AAC9C\\\"}\"\n};\nvar _worklet_8876815392037_init_data = {\n  code: \"function anonymous(toValue, onFinished) {\\n  const {\\n    runOnJS,\\n    onScrollEnd,\\n    duration,\\n    Easing,\\n    dealWithAnimation,\\n    withAnimation\\n  } = this._closure;\\n  var _withAnimation;\\n  const callback = function (isFinished) {\\n    \\\"worklet\\\";\\n\\n    if (isFinished) {\\n      runOnJS(onScrollEnd)();\\n      onFinished && runOnJS(onFinished)();\\n    }\\n  };\\n  const defaultWithAnimation = {\\n    type: \\\"timing\\\",\\n    config: {\\n      duration: duration,\\n      easing: Easing.easeOutQuart\\n    }\\n  };\\n  return dealWithAnimation((_withAnimation = withAnimation) !== null && _withAnimation !== void 0 ? _withAnimation : defaultWithAnimation)(toValue, callback);\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"toValue\\\",\\\"onFinished\\\",\\\"runOnJS\\\",\\\"onScrollEnd\\\",\\\"duration\\\",\\\"Easing\\\",\\\"dealWithAnimation\\\",\\\"withAnimation\\\",\\\"_closure\\\",\\\"_withAnimation\\\",\\\"callback\\\",\\\"isFinished\\\",\\\"defaultWithAnimation\\\",\\\"type\\\",\\\"config\\\",\\\"easing\\\",\\\"easeOutQuart\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\\\"],\\\"mappings\\\":\\\"AA+II,SAACA,SAAeA,CAAAC,OAAE,EAAAC,UAA4B;EAAA;IAAAC,OAAA;IAAAC,WAAA;IAAAC,QAAA;IAAAC,MAAA;IAAAC,iBAAA;IAAAC;EAAA,SAAAC,QAAA;EAAA,IAAAC,cAAA;EAE5C,MAAMC,QAAQ,GAAG,SAAAA,CAACC,UAAmB,EAAK;IACxC,SAAS;;IACT,IAAIA,UAAU,EAAE;MACdT,OAAO,CAACC,WAAW,CAAC,CAAC,CAAC;MACtBF,UAAU,IAAIC,OAAO,CAACD,UAAU,CAAC,CAAC,CAAC;IACrC;EACF,CAAC;EAED,MAAMW,oBAAyC,GAAG;IAChDC,IAAI,EAAE,QAAQ;IACdC,MAAM,EAAE;MAAEV,QAAQ,EAARA,QAAQ;MAAEW,MAAM,EAAEV,MAAM,CAACW;IAAa;EAClD,CAAC;EAED,OAAOV,iBAAiB,EAAAG,cAAA,GAACF,aAAa,cAAAE,cAAA,cAAAA,cAAA,GAAIG,oBAAoB,CAAC,CAC7DZ,OAAO,EACPU,QACF,CAAC;AACH\\\"}\"\n};\nvar _worklet_1856840040824_init_data = {\n  code: \"function anonymous(isFinished) {\\n  const {\\n    runOnJS,\\n    onScrollEnd,\\n    onFinished\\n  } = this._closure;\\n  if (isFinished) {\\n    runOnJS(onScrollEnd)();\\n    onFinished && runOnJS(onFinished)();\\n  }\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"isFinished\\\",\\\"runOnJS\\\",\\\"onScrollEnd\\\",\\\"onFinished\\\",\\\"_closure\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\\\"],\\\"mappings\\\":\\\"AAiJuB,SAACA,UAAAC,UAAwB;EAAA;IAAAC,OAAA;IAAAC,WAAA;IAAAC;EAAA,SAAAC,QAAA;EAExC,IAAIJ,UAAU,EAAE;IACdC,OAAO,CAACC,WAAW,CAAC,CAAC,CAAC;IACtBC,UAAU,IAAIF,OAAO,CAACE,UAAU,CAAC,CAAC,CAAC;EACrC;AACF\\\"}\"\n};\nvar _worklet_7037612364285_init_data = {\n  code: \"function anonymous(opts = {}) {\\n  const {\\n    canSliding,\\n    loop,\\n    index,\\n    dataInfo,\\n    onScrollBegin,\\n    currentFixedPage,\\n    handlerOffset,\\n    scrollWithTiming,\\n    size\\n  } = this._closure;\\n  var _onScrollBegin;\\n  const {\\n    count = 1,\\n    animated = true,\\n    onFinished: onFinished\\n  } = opts;\\n  if (!canSliding() || !loop && index.value >= dataInfo.length - 1) return;\\n  (_onScrollBegin = onScrollBegin) === null || _onScrollBegin === void 0 ? void 0 : _onScrollBegin();\\n  const nextPage = currentFixedPage() + count;\\n  index.value = nextPage;\\n  if (animated) {\\n    handlerOffset.value = scrollWithTiming(-nextPage * size, onFinished);\\n  } else {\\n    handlerOffset.value = -nextPage * size;\\n    onFinished === null || onFinished === void 0 ? void 0 : onFinished();\\n  }\\n}\",\n  location: \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"opts\\\",\\\"canSliding\\\",\\\"loop\\\",\\\"index\\\",\\\"dataInfo\\\",\\\"onScrollBegin\\\",\\\"currentFixedPage\\\",\\\"handlerOffset\\\",\\\"scrollWithTiming\\\",\\\"size\\\",\\\"_closure\\\",\\\"_onScrollBegin\\\",\\\"count\\\",\\\"animated\\\",\\\"onFinished\\\",\\\"value\\\",\\\"length\\\",\\\"nextPage\\\"],\\\"sources\\\":[\\\"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx\\\"],\\\"mappings\\\":\\\"AAuKI,SAACA,SAAgCA,CAACC,IAAK;EAAA;IAAAC,UAAA;IAAAC,IAAA;IAAAC,KAAA;IAAAC,QAAA;IAAAC,aAAA;IAAAC,gBAAA;IAAAC,aAAA;IAAAC,gBAAA;IAAAC;EAAA,SAAAC,QAAA;EAAA,IAAAC,cAAA;EAErC,MAAM;IAAEC,KAAK,GAAG,CAAC;IAAEC,QAAQ,GAAG,IAAI;IAAEC,UAAA,EAAAA;EAAW,CAAC,GAAGd,IAAI;EACvD,IAAI,CAACC,UAAU,CAAC,CAAC,IAAK,CAACC,IAAI,IAAIC,KAAK,CAACY,KAAK,IAAIX,QAAQ,CAACY,MAAM,GAAG,CAAE,EAChE;EAEF,CAAAL,cAAA,GAAAN,aAAa,cAAAM,cAAA,uBAAbA,cAAA,CAAgB,CAAC;EAEjB,MAAMM,QAAQ,GAAGX,gBAAgB,CAAC,CAAC,GAAGM,KAAK;EAC3CT,KAAK,CAACY,KAAK,GAAGE,QAAQ;EAEtB,IAAIJ,QAAQ,EAAE;IACZN,aAAa,CAACQ,KAAK,GAAGP,gBAAgB,CACpC,CAACS,QAAQ,GAAGR,IAAI,EAChBK,UACF,CAAQ;EACV,CAAC,MACI;IACHP,aAAa,CAACQ,KAAK,GAAG,CAACE,QAAQ,GAAGR,IAAI;IACtCK,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAG,CAAC;EAChB;AACF\\\"}\"\n};\nfunction useCarouselController(options) {\n  var size = options.size,\n    loop = options.loop,\n    dataLength = options.dataLength,\n    handlerOffset = options.handlerOffset,\n    withAnimation = options.withAnimation,\n    _options$defaultIndex = options.defaultIndex,\n    defaultIndex = _options$defaultIndex === void 0 ? 0 : _options$defaultIndex,\n    duration = options.duration,\n    autoFillData = options.autoFillData;\n  var dataInfo = _react.default.useMemo(function () {\n    return {\n      length: dataLength,\n      disable: !dataLength,\n      originalLength: dataLength\n    };\n  }, [dataLength]);\n  var index = (0, _reactNativeReanimated.useSharedValue)(defaultIndex);\n  var sharedIndex = (0, _react.useRef)(defaultIndex);\n  var sharedPreIndex = (0, _react.useRef)(defaultIndex);\n  var currentFixedPage = _react.default.useCallback(function () {\n    if (loop) return -Math.round(handlerOffset.value / size);\n    var fixed = handlerOffset.value / size % dataInfo.length;\n    return Math.round(handlerOffset.value <= 0 ? Math.abs(fixed) : Math.abs(fixed > 0 ? dataInfo.length - fixed : 0));\n  }, [handlerOffset, dataInfo, size, loop]);\n  function setSharedIndex(newSharedIndex) {\n    sharedIndex.current = newSharedIndex;\n  }\n  (0, _reactNativeReanimated.useAnimatedReaction)(function () {\n    var _e = [new global.Error(), -8, -27];\n    var _f = function _f() {\n      var handlerOffsetValue = handlerOffset.value;\n      var toInt = (0, _log.round)(handlerOffsetValue / size) % dataInfo.length;\n      var isPositive = handlerOffsetValue <= 0;\n      var i = isPositive ? Math.abs(toInt) : Math.abs(toInt > 0 ? dataInfo.length - toInt : 0);\n      var newSharedIndexValue = (0, _computedWithAutoFillData.convertToSharedIndex)({\n        loop: loop,\n        rawDataLength: dataInfo.originalLength,\n        autoFillData: autoFillData,\n        index: i\n      });\n      return {\n        i: i,\n        newSharedIndexValue: newSharedIndexValue\n      };\n    };\n    _f._closure = {\n      handlerOffset: handlerOffset,\n      round: _log.round,\n      size: size,\n      dataInfo: dataInfo,\n      convertToSharedIndex: _computedWithAutoFillData.convertToSharedIndex,\n      loop: loop,\n      autoFillData: autoFillData\n    };\n    _f.__initData = _worklet_11883385583138_init_data;\n    _f.__workletHash = 11883385583138;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), function () {\n    var _e = [new global.Error(), -4, -27];\n    var _f = function _f(_ref) {\n      var i = _ref.i,\n        newSharedIndexValue = _ref.newSharedIndexValue;\n      index.value = i;\n      (0, _reactNativeReanimated.runOnJS)(setSharedIndex)(newSharedIndexValue);\n    };\n    _f._closure = {\n      index: index,\n      runOnJS: _reactNativeReanimated.runOnJS,\n      setSharedIndex: setSharedIndex\n    };\n    _f.__initData = _worklet_6063199752963_init_data;\n    _f.__workletHash = 6063199752963;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), [sharedPreIndex, sharedIndex, size, dataInfo, index, loop, autoFillData, handlerOffset]);\n  var getCurrentIndex = _react.default.useCallback(function () {\n    var realIndex = (0, _computedWithAutoFillData.computedRealIndexWithAutoFillData)({\n      index: index.value,\n      dataLength: dataInfo.originalLength,\n      loop: loop,\n      autoFillData: autoFillData\n    });\n    return realIndex;\n  }, [index, autoFillData, dataInfo, loop]);\n  var canSliding = _react.default.useCallback(function () {\n    return !dataInfo.disable;\n  }, [dataInfo]);\n  var onScrollEnd = _react.default.useCallback(function () {\n    options.onScrollEnd == null ? void 0 : options.onScrollEnd();\n  }, [options]);\n  var onScrollBegin = _react.default.useCallback(function () {\n    options.onScrollBegin == null ? void 0 : options.onScrollBegin();\n  }, [options]);\n  var scrollWithTiming = _react.default.useCallback(function () {\n    var _e = [new global.Error(), -7, -27];\n    var _f = function _f(toValue, onFinished) {\n      var callback = function () {\n        var _e = [new global.Error(), -4, -27];\n        var _f = function _f(isFinished) {\n          if (isFinished) {\n            (0, _reactNativeReanimated.runOnJS)(onScrollEnd)();\n            onFinished && (0, _reactNativeReanimated.runOnJS)(onFinished)();\n          }\n        };\n        _f._closure = {\n          runOnJS: _reactNativeReanimated.runOnJS,\n          onScrollEnd: onScrollEnd,\n          onFinished: onFinished\n        };\n        _f.__initData = _worklet_1856840040824_init_data;\n        _f.__workletHash = 1856840040824;\n        _f.__stackDetails = _e;\n        _f.__version = \"3.3.0\";\n        return _f;\n      }();\n      var defaultWithAnimation = {\n        type: \"timing\",\n        config: {\n          duration: duration,\n          easing: _constants.Easing.easeOutQuart\n        }\n      };\n      return (0, _dealWithAnimation.dealWithAnimation)(withAnimation != null ? withAnimation : defaultWithAnimation)(toValue, callback);\n    };\n    _f._closure = {\n      runOnJS: _reactNativeReanimated.runOnJS,\n      onScrollEnd: onScrollEnd,\n      duration: duration,\n      Easing: _constants.Easing,\n      dealWithAnimation: _dealWithAnimation.dealWithAnimation,\n      withAnimation: withAnimation\n    };\n    _f.__initData = _worklet_8876815392037_init_data;\n    _f.__workletHash = 8876815392037;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), [duration, withAnimation, onScrollEnd]);\n  var next = _react.default.useCallback(function () {\n    var _e = [new global.Error(), -10, -27];\n    var _f = function _f() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$count = opts.count,\n        count = _opts$count === void 0 ? 1 : _opts$count,\n        _opts$animated = opts.animated,\n        animated = _opts$animated === void 0 ? true : _opts$animated,\n        onFinished = opts.onFinished;\n      if (!canSliding() || !loop && index.value >= dataInfo.length - 1) return;\n      onScrollBegin == null ? void 0 : onScrollBegin();\n      var nextPage = currentFixedPage() + count;\n      index.value = nextPage;\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(-nextPage * size, onFinished);\n      } else {\n        handlerOffset.value = -nextPage * size;\n        onFinished == null ? void 0 : onFinished();\n      }\n    };\n    _f._closure = {\n      canSliding: canSliding,\n      loop: loop,\n      index: index,\n      dataInfo: dataInfo,\n      onScrollBegin: onScrollBegin,\n      currentFixedPage: currentFixedPage,\n      handlerOffset: handlerOffset,\n      scrollWithTiming: scrollWithTiming,\n      size: size\n    };\n    _f.__initData = _worklet_7037612364285_init_data;\n    _f.__workletHash = 7037612364285;\n    _f.__stackDetails = _e;\n    _f.__version = \"3.3.0\";\n    return _f;\n  }(), [canSliding, loop, index, dataInfo, onScrollBegin, handlerOffset, size, scrollWithTiming, currentFixedPage]);\n  var prev = _react.default.useCallback(function () {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _opts$count2 = opts.count,\n      count = _opts$count2 === void 0 ? 1 : _opts$count2,\n      _opts$animated2 = opts.animated,\n      animated = _opts$animated2 === void 0 ? true : _opts$animated2,\n      onFinished = opts.onFinished;\n    if (!canSliding() || !loop && index.value <= 0) return;\n    onScrollBegin == null ? void 0 : onScrollBegin();\n    var prevPage = currentFixedPage() - count;\n    index.value = prevPage;\n    if (animated) {\n      handlerOffset.value = scrollWithTiming(-prevPage * size, onFinished);\n    } else {\n      handlerOffset.value = -prevPage * size;\n      onFinished == null ? void 0 : onFinished();\n    }\n  }, [canSliding, loop, index, onScrollBegin, handlerOffset, size, scrollWithTiming, currentFixedPage]);\n  var to = _react.default.useCallback(function (opts) {\n    var i = opts.i,\n      _opts$animated3 = opts.animated,\n      animated = _opts$animated3 === void 0 ? false : _opts$animated3,\n      onFinished = opts.onFinished;\n    if (i === index.value) return;\n    if (!canSliding()) return;\n    onScrollBegin == null ? void 0 : onScrollBegin();\n    var direction = (0, _handlerOffsetDirection.handlerOffsetDirection)(handlerOffset);\n    var offset = i * size * direction;\n    var totalSize = dataInfo.length * size;\n    var isCloseToNextLoop = false;\n    if (loop) {\n      isCloseToNextLoop = Math.abs(handlerOffset.value % totalSize) / totalSize >= 0.5;\n    }\n    var finalOffset = (Math.floor(Math.abs(handlerOffset.value / totalSize)) + (isCloseToNextLoop ? 1 : 0)) * totalSize * direction + offset;\n    if (animated) {\n      index.value = i;\n      handlerOffset.value = scrollWithTiming(finalOffset, onFinished);\n    } else {\n      handlerOffset.value = finalOffset;\n      index.value = i;\n      onFinished == null ? void 0 : onFinished();\n    }\n  }, [index, canSliding, onScrollBegin, handlerOffset, size, dataInfo.length, loop, scrollWithTiming]);\n  var scrollTo = _react.default.useCallback(function () {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var i = opts.index,\n      count = opts.count,\n      _opts$animated4 = opts.animated,\n      animated = _opts$animated4 === void 0 ? false : _opts$animated4,\n      onFinished = opts.onFinished;\n    if (typeof i === \"number\" && i > -1) {\n      to({\n        i: i,\n        animated: animated,\n        onFinished: onFinished\n      });\n      return;\n    }\n    if (!count) return;\n    var n = Math.round(count);\n    if (n < 0) prev({\n      count: Math.abs(n),\n      animated: animated,\n      onFinished: onFinished\n    });else next({\n      count: n,\n      animated: animated,\n      onFinished: onFinished\n    });\n  }, [prev, next, to]);\n  return {\n    next: next,\n    prev: prev,\n    scrollTo: scrollTo,\n    getCurrentIndex: getCurrentIndex,\n    getSharedIndex: function getSharedIndex() {\n      return sharedIndex.current;\n    }\n  };\n}","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_constants","_computedWithAutoFillData","_dealWithAnimation","_handlerOffsetDirection","_log","useCarouselController","options","size","loop","dataLength","handlerOffset","withAnimation","_options$defaultIndex","defaultIndex","duration","autoFillData","dataInfo","default","useMemo","length","disable","originalLength","index","useSharedValue","sharedIndex","useRef","sharedPreIndex","currentFixedPage","useCallback","Math","round","value","fixed","abs","setSharedIndex","newSharedIndex","current","useAnimatedReaction","_e","global","Error","_f","handlerOffsetValue","toInt","isPositive","i","newSharedIndexValue","convertToSharedIndex","rawDataLength","_closure","__initData","_worklet_11883385583138_init_data","__workletHash","__stackDetails","__version","_ref","runOnJS","_worklet_6063199752963_init_data","getCurrentIndex","realIndex","computedRealIndexWithAutoFillData","canSliding","onScrollEnd","onScrollBegin","scrollWithTiming","toValue","onFinished","callback","isFinished","_worklet_1856840040824_init_data","defaultWithAnimation","type","config","easing","Easing","easeOutQuart","dealWithAnimation","_worklet_8876815392037_init_data","next","opts","arguments","undefined","_opts$count","count","_opts$animated","animated","nextPage","_worklet_7037612364285_init_data","prev","_opts$count2","_opts$animated2","prevPage","to","_opts$animated3","direction","handlerOffsetDirection","offset","totalSize","isCloseToNextLoop","finalOffset","floor","scrollTo","_opts$animated4","n","getSharedIndex"],"sources":["C:\\Users\\user\\Desktop\\projet perso\\La Fons'Dal\\LFD\\LFD\\node_modules\\react-native-reanimated-carousel\\lib\\commonjs\\hooks\\useCarouselController.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport type Animated from \"react-native-reanimated\";\nimport {\n  runOnJS,\n  useAnimatedReaction,\n  useSharedValue,\n} from \"react-native-reanimated\";\n\nimport { Easing } from \"../constants\";\nimport type {\n  TCarouselActionOptions,\n  TCarouselProps,\n  WithTimingAnimation,\n} from \"../types\";\nimport { computedRealIndexWithAutoFillData, convertToSharedIndex } from \"../utils/computedWithAutoFillData\";\nimport { dealWithAnimation } from \"../utils/dealWithAnimation\";\nimport { handlerOffsetDirection } from \"../utils/handlerOffsetDirection\";\nimport { round } from \"../utils/log\";\n\ninterface IOpts {\n  loop: boolean\n  size: number\n  dataLength: number\n  autoFillData: TCarouselProps[\"autoFillData\"]\n  handlerOffset: Animated.SharedValue<number>\n  withAnimation?: TCarouselProps[\"withAnimation\"]\n  duration?: number\n  defaultIndex?: number\n  onScrollBegin?: () => void\n  onScrollEnd?: () => void\n}\n\nexport interface ICarouselController {\n  getSharedIndex: () => number\n  prev: (opts?: TCarouselActionOptions) => void\n  next: (opts?: TCarouselActionOptions) => void\n  getCurrentIndex: () => number\n  scrollTo: (opts?: TCarouselActionOptions) => void\n}\n\nexport function useCarouselController(options: IOpts): ICarouselController {\n  const {\n    size,\n    loop,\n    dataLength,\n    handlerOffset,\n    withAnimation,\n    defaultIndex = 0,\n    duration,\n    autoFillData,\n  } = options;\n\n  const dataInfo = React.useMemo(\n    () => ({\n      length: dataLength,\n      disable: !dataLength,\n      originalLength: dataLength,\n    }),\n    [dataLength],\n  );\n\n  const index = useSharedValue<number>(defaultIndex);\n  // The Index displayed to the user\n  const sharedIndex = useRef<number>(defaultIndex);\n  const sharedPreIndex = useRef<number>(defaultIndex);\n\n  const currentFixedPage = React.useCallback(() => {\n    if (loop)\n      return -Math.round(handlerOffset.value / size);\n\n    const fixed = (handlerOffset.value / size) % dataInfo.length;\n    return Math.round(\n      handlerOffset.value <= 0\n        ? Math.abs(fixed)\n        : Math.abs(fixed > 0 ? dataInfo.length - fixed : 0),\n    );\n  }, [handlerOffset, dataInfo, size, loop]);\n\n  function setSharedIndex(newSharedIndex: number) {\n    sharedIndex.current = newSharedIndex;\n  }\n\n  useAnimatedReaction(\n    () => {\n      const handlerOffsetValue = handlerOffset.value;\n      const toInt = round(handlerOffsetValue / size) % dataInfo.length;\n      const isPositive = handlerOffsetValue <= 0;\n      const i = isPositive\n        ? Math.abs(toInt)\n        : Math.abs(toInt > 0 ? dataInfo.length - toInt : 0);\n\n      const newSharedIndexValue = convertToSharedIndex({\n        loop,\n        rawDataLength: dataInfo.originalLength,\n        autoFillData: autoFillData!,\n        index: i,\n      });\n\n      return {\n        i,\n        newSharedIndexValue,\n      };\n    },\n    ({ i, newSharedIndexValue }) => {\n      index.value = i;\n      runOnJS(setSharedIndex)(newSharedIndexValue);\n    },\n    [\n      sharedPreIndex,\n      sharedIndex,\n      size,\n      dataInfo,\n      index,\n      loop,\n      autoFillData,\n      handlerOffset,\n    ],\n  );\n\n  const getCurrentIndex = React.useCallback(() => {\n    const realIndex = computedRealIndexWithAutoFillData({\n      index: index.value,\n      dataLength: dataInfo.originalLength,\n      loop,\n      autoFillData: autoFillData!,\n    });\n\n    return realIndex;\n  }, [index, autoFillData, dataInfo, loop]);\n\n  const canSliding = React.useCallback(() => {\n    return !dataInfo.disable;\n  }, [dataInfo]);\n\n  const onScrollEnd = React.useCallback(() => {\n    options.onScrollEnd?.();\n  }, [options]);\n\n  const onScrollBegin = React.useCallback(() => {\n    options.onScrollBegin?.();\n  }, [options]);\n\n  const scrollWithTiming = React.useCallback(\n    (toValue: number, onFinished?: () => void) => {\n      \"worklet\";\n      const callback = (isFinished: boolean) => {\n        \"worklet\";\n        if (isFinished) {\n          runOnJS(onScrollEnd)();\n          onFinished && runOnJS(onFinished)();\n        }\n      };\n\n      const defaultWithAnimation: WithTimingAnimation = {\n        type: \"timing\",\n        config: { duration, easing: Easing.easeOutQuart },\n      };\n\n      return dealWithAnimation(withAnimation ?? defaultWithAnimation)(\n        toValue,\n        callback,\n      );\n    },\n    [duration, withAnimation, onScrollEnd],\n  );\n\n  const next = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      \"worklet\";\n      const { count = 1, animated = true, onFinished } = opts;\n      if (!canSliding() || (!loop && index.value >= dataInfo.length - 1))\n        return;\n\n      onScrollBegin?.();\n\n      const nextPage = currentFixedPage() + count;\n      index.value = nextPage;\n\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(\n          -nextPage * size,\n          onFinished,\n        ) as any;\n      }\n      else {\n        handlerOffset.value = -nextPage * size;\n        onFinished?.();\n      }\n    },\n    [\n      canSliding,\n      loop,\n      index,\n      dataInfo,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      scrollWithTiming,\n      currentFixedPage,\n    ],\n  );\n\n  const prev = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      const { count = 1, animated = true, onFinished } = opts;\n      if (!canSliding() || (!loop && index.value <= 0)) return;\n\n      onScrollBegin?.();\n\n      const prevPage = currentFixedPage() - count;\n      index.value = prevPage;\n\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(\n          -prevPage * size,\n          onFinished,\n        );\n      }\n      else {\n        handlerOffset.value = -prevPage * size;\n        onFinished?.();\n      }\n    },\n    [\n      canSliding,\n      loop,\n      index,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      scrollWithTiming,\n      currentFixedPage,\n    ],\n  );\n\n  const to = React.useCallback(\n    (opts: { i: number; animated: boolean; onFinished?: () => void }) => {\n      const { i, animated = false, onFinished } = opts;\n      if (i === index.value) return;\n      if (!canSliding()) return;\n\n      onScrollBegin?.();\n      // direction -> 1 | -1\n      const direction = handlerOffsetDirection(handlerOffset);\n\n      // target offset\n      const offset = i * size * direction;\n      // page width size * page count\n      const totalSize = dataInfo.length * size;\n\n      let isCloseToNextLoop = false;\n\n      if (loop) {\n        isCloseToNextLoop\n                    = Math.abs(handlerOffset.value % totalSize) / totalSize\n                    >= 0.5;\n      }\n\n      const finalOffset\n                = (Math.floor(Math.abs(handlerOffset.value / totalSize))\n                    + (isCloseToNextLoop ? 1 : 0))\n                    * totalSize\n                    * direction\n                + offset;\n\n      if (animated) {\n        index.value = i;\n        handlerOffset.value = scrollWithTiming(finalOffset, onFinished);\n      }\n      else {\n        handlerOffset.value = finalOffset;\n        index.value = i;\n        onFinished?.();\n      }\n    },\n    [\n      index,\n      canSliding,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      dataInfo.length,\n      loop,\n      scrollWithTiming,\n    ],\n  );\n\n  const scrollTo = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      const { index: i, count, animated = false, onFinished } = opts;\n      if (typeof i === \"number\" && i > -1) {\n        to({ i, animated, onFinished });\n        return;\n      }\n\n      if (!count)\n        return;\n\n      const n = Math.round(count);\n\n      if (n < 0)\n        prev({ count: Math.abs(n), animated, onFinished });\n\n      else\n        next({ count: n, animated, onFinished });\n    },\n    [prev, next, to],\n  );\n\n  return {\n    next,\n    prev,\n    scrollTo,\n    getCurrentIndex,\n    getSharedIndex: () => sharedIndex.current,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}